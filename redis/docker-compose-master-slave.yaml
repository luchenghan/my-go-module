services:
  redis-master:
    image: redis
    container_name: redis-master
    ports:
      - "7001:7001"
    volumes:
      - ./7001/master.conf:/usr/local/etc/redis/redis.conf
    command: [ "redis-server", "/usr/local/etc/redis/redis.conf" ]


  redis-slave1:
    image: redis
    container_name: redis-slave1
    ports:
      - "7002:7002"
    volumes:
      - ./7002/slave.conf:/usr/local/etc/redis/redis.conf
    command: [ "redis-server", "/usr/local/etc/redis/redis.conf" ]


  redis-slave2:
    image: redis
    container_name: redis-slave2
    ports:
      - "7003:7003"
    volumes:
      - ./7003/slave.conf:/usr/local/etc/redis/redis.conf
    command: [ "redis-server", "/usr/local/etc/redis/redis.conf" ]